From 6f1ca05fddbcbc860898ddf10a557b513dfafc18 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20K=C3=A4llberg?= <anka.213@gmail.com>
Date: Fri, 21 Aug 2020 11:03:17 +0200
Subject: [PATCH] Fix encoding problems

---
 src/compiler/GF/Main.hs | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/compiler/GF/Main.hs b/src/compiler/GF/Main.hs
index 7cde1ce97..0737a15cf 100644
--- a/src/compiler/GF/Main.hs
+++ b/src/compiler/GF/Main.hs
@@ -16,6 +16,7 @@ import Data.Version
 import System.Directory
 import System.Environment (getArgs)
 import System.Exit
+import GHC.IO.Encoding
 import GF.System.Console (setConsoleEncoding)
 
 -- | Run the GF main program, taking arguments from the command line.
@@ -23,6 +24,7 @@ import GF.System.Console (setConsoleEncoding)
 -- Run @gf --help@ for usage info.
 main :: IO ()
 main = do
+  setLocaleEncoding utf8
   --setConsoleEncoding
   uncurry mainOpts =<< getOptions
 
